/*! datamaps-zoomto 2015-11-02 */
"use strict";!function(){var a="zoomto",b=function(a,b){var c=this,d={scaleFactor:1,center:{lat:0,lng:0},transition:{duration:1e3}},e=function(){return d3.select(c.options.element)},f=function(){return e().select(".datamaps-subunits")},g=function(){return e().select(".datamaps-hoverover")},h=function(a,b){return"translate("+a+","+b+")"},i=function(a){return"scale("+a+")"},j=function(a,b){for(var c in a)"object"==typeof a[c]&&b[c]?j(a[c],b[c]):null==b[c]&&(b[c]=a[c]);return b},k=function(){if(b.scaleFactor<0)throw Error("Cannot zoom to a negative scale");var a=c.latLngToXY(b.center.lat,b.center.lng),d=[c.options.element.offsetWidth/2,c.options.element.offsetHeight/2],e=b.scaleFactor,g={x:d[0]-e*a[0],y:d[1]-e*a[1]},j=h(g.x,g.y)+" "+i(e);f().transition().duration(b.transition.duration).attr("transform",j)},l=function(a){var d=b.scaleFactor,e=c.projection,f=e.translate(),g=c.latLngToXY(b.center.lat,b.center.lng),h={x:a.offsetWidth/2+d*(f[0]-g[0]),y:a.offsetHeight/2+d*(f[1]-g[1])},i=e.scale()*d,j=e.translate([h.x,h.y]).scale(i),k=d3.geo.path().projection(j);return{path:k,projection:j}},m=function(){c.options.setProjection=l,c.options.geographyConfig.borderWidth*=b.scaleFactor,f().remove(),g().remove(),c.draw()};b=j(d,b),k(),setTimeout(m,b.transition.duration)};if(void 0!==Datamap){var c=new Datamap({element:document.createElement("div")});c.addPlugin(a,b)}return b}();